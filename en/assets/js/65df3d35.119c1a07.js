"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8559],{1596:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"api/overview","title":"API Overview","description":"The Loom API provides a programmatic interface to our decentralized computing marketplace. It\'s designed around RESTful principles, using predictable, resource-oriented URLs and standard HTTP response codes to indicate API errors.","source":"@site/docs/api/overview.md","sourceDirName":"api","slug":"/api/overview","permalink":"/the-loom/en/api/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/a-r-ka/the-loom/tree/main/docs/docs/api/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Contract Deployment","permalink":"/the-loom/en/smart-contracts/deployment"},"next":{"title":"Projects API","permalink":"/the-loom/en/api/projects"}}');var o=t(4848),r=t(8453);const i={},a="API Overview",c={},l=[{value:"Authentication",id:"authentication",level:2},{value:"General API Workflow",id:"general-api-workflow",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"api-overview",children:"API Overview"})}),"\n",(0,o.jsx)(n.p,{children:"The Loom API provides a programmatic interface to our decentralized computing marketplace. It's designed around RESTful principles, using predictable, resource-oriented URLs and standard HTTP response codes to indicate API errors."}),"\n",(0,o.jsx)(n.p,{children:"All API responses are returned in JSON format."}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Base URL:"})," ",(0,o.jsx)(n.code,{children:"https://api.the-loom.io/v1"})]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,o.jsx)(n.p,{children:"Public endpoints, such as those for browsing the job marketplace, are open and do not require authentication."}),"\n",(0,o.jsx)(n.p,{children:"However, any action that requires user identity (like creating a job or reporting results) must be authenticated. We use a signature-based authentication method that is common in Web3 applications. This proves ownership of a wallet address without requiring traditional API keys."}),"\n",(0,o.jsx)(n.p,{children:"The process is as follows:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Get a Nonce:"})," Your application requests a unique, single-use nonce (a random string) from our API for the user's wallet address.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"GET /auth/nonce?address=0x..."})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sign the Nonce:"})," The user signs this nonce with their wallet's private key (e.g., using MetaMask or Ethers.js). This action does not cost any gas.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"const signature = await signer.signMessage(nonce);"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Authenticate:"})," Your application sends the signature back to the API to receive a JSON Web Token (JWT).","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"POST /auth/login { address, signature }"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Use the Token:"})," This JWT must be included in the ",(0,o.jsx)(n.code,{children:"Authorization"})," header for all subsequent protected API requests.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"Authorization: Bearer <your_jwt_token>"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This method ensures that only the owner of a specific wallet address can perform actions on its behalf."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"general-api-workflow",children:"General API Workflow"}),"\n",(0,o.jsx)(n.p,{children:"Interacting with The Loom API typically follows this sequence:"}),"\n",(0,o.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Dev as Developer's App\n    participant Loom as The Loom API\n    participant User as User's Wallet\n\n    Dev->>Loom: 1. Request available jobs\n    Loom--\x3e>Dev: List of jobs\n\n    Dev->>User: 2. User wants to create a job\n    Dev->>Loom: 3. Request nonce for user's address\n    Loom--\x3e>Dev: Unique nonce\n    Dev->>User: 4. Prompt user to sign nonce\n    User--\x3e>Dev: Signature\n\n    Dev->>Loom: 5. Send address + signature to log in\n    Loom--\x3e>Dev: JWT Authentication Token\n\n    Dev->>Loom: 6. Create new job (with JWT)\n    Loom--\x3e>Dev: Job created successfully\n\n    Dev->>Loom: 7. Periodically check job status (with JWT)\n    Loom--\x3e>Dev: Job status (e.g., \"InProgress\")"}),"\n",(0,o.jsx)(n.p,{children:"This workflow separates the read-only public data from the user-specific authenticated actions, providing both flexibility and security."})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(6540);const o={},r=s.createContext(o);function i(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);