"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[6013],{8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var r=n(6540);const s={},o=r.createContext(s);function a(e){const t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:t},e.children)}},8957:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"smart-contracts/overview","title":"Smart Contracts Overview","description":"The Loom\'s on-chain logic is the trust engine of our platform. It guarantees that clients pay for completed work and workers are compensated fairly, all without relying on a central intermediary. Our entire on-chain presence is orchestrated by a single, powerful contract: JobManager.sol.","source":"@site/docs/smart-contracts/overview.md","sourceDirName":"smart-contracts","slug":"/smart-contracts/overview","permalink":"/the-loom/en/smart-contracts/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/a-r-ka/the-loom/tree/main/docs/docs/smart-contracts/overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Blockchain Integration","permalink":"/the-loom/en/architecture/blockchain"},"next":{"title":"Escrow Contract","permalink":"/the-loom/en/smart-contracts/escrow"}}');var s=n(4848),o=n(8453);const a={},i="Smart Contracts Overview",c={},l=[{value:"The JobManager Contract",id:"the-jobmanager-contract",level:2},{value:"Core Responsibilities:",id:"core-responsibilities",level:3},{value:"Job Lifecycle State Machine",id:"job-lifecycle-state-machine",level:3},{value:"Key States Explained:",id:"key-states-explained",level:3}];function d(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"smart-contracts-overview",children:"Smart Contracts Overview"})}),"\n",(0,s.jsxs)(t.p,{children:["The Loom's on-chain logic is the trust engine of our platform. It guarantees that clients pay for completed work and workers are compensated fairly, all without relying on a central intermediary. Our entire on-chain presence is orchestrated by a single, powerful contract: ",(0,s.jsx)(t.code,{children:"JobManager.sol"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"the-jobmanager-contract",children:"The JobManager Contract"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"JobManager.sol"})," is the heart of our decentralized marketplace. It's a Solidity smart contract deployed on the ",(0,s.jsx)(t.strong,{children:"Base"})," network that functions as a trustless escrow and state machine for every computational job on the network."]}),"\n",(0,s.jsx)(t.h3,{id:"core-responsibilities",children:"Core Responsibilities:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"State Tracking:"})," It tracks the lifecycle of each job, ensuring it moves through predefined states correctly."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Value Exchange:"})," It securely holds a client's payment and a worker's collateral in escrow."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Rule Enforcement:"})," It enforces the rules of the agreement. For example, it ensures a worker can only start a job after the client has deposited funds."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Dispute Resolution:"})," It provides mechanisms to handle disputes, such as refunding the client if a worker fails to complete a job on time."]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"job-lifecycle-state-machine",children:"Job Lifecycle State Machine"}),"\n",(0,s.jsx)(t.p,{children:"The contract manages each job as a state machine. A job can only transition between states based on specific actions taken by the client or the worker. This ensures a predictable and secure process."}),"\n",(0,s.jsx)(t.mermaid,{value:"stateDiagram-v2\n    [*] --\x3e Posted\n\n    Posted --\x3e Accepted: Worker accepts\n    Posted --\x3e Cancelled: Client cancels\n\n    Accepted --\x3e Funded: Client deposits escrow\n    Accepted --\x3e Cancelled: Client or Worker cancels\n\n    Funded --\x3e InProgress: Worker confirms start\n    Funded --\x3e Cancelled: Client cancels (refund)\n\n    InProgress --\x3e Completed: Worker submits results\n    InProgress --\x3e Disputed: Timeout or issue raised\n\n    Completed --\x3e Closed: Client confirms & releases funds\n    Completed --\x3e Disputed: Client rejects results\n\n    Disputed --\x3e Closed: Resolution (payment or refund)\n    Cancelled --\x3e [*]\n    Closed --\x3e [*]"}),"\n",(0,s.jsx)(t.h3,{id:"key-states-explained",children:"Key States Explained:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Posted:"})," A job has been created off-chain and is available for workers. The on-chain representation is minimal at this stage."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Accepted:"})," A worker has committed to the job by locking a security collateral in the contract. The job is now reserved for them."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Funded:"})," The client has deposited the full payment for the job into the escrow."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"InProgress:"})," The worker has confirmed they have started the computational task. A timeout period begins."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Completed:"})," The worker has finished the task and submitted the results (or a proof of results) to the client."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Closed:"})," The transaction is complete. The client has approved the work, the worker has been paid, and the worker's collateral has been returned."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Cancelled / Disputed:"})," If something goes wrong, the job enters a state where funds can be returned according to the contract rules."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"This state-driven design is fundamental to how The Loom provides a secure and automated marketplace for computational resources."})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);